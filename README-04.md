## [목록으로](README.md)

## 4. 스프링 부트 3와 테스트

### 4.1 테스트 코드 개념 익히기

* 테스트 코드는 작성한 코드가 의도대로 잘 동작하고 예상치 못한 문제가 없는지 확인할 목적으로 작성하는 코드
* 유지보수에도 매우 좋고, 코드 수정 시 기존 기능이 제대로 작동하지 않을까 봐 걱정하지 않아도 된다는 장점

#### 4.1.1 테스트 코드란?

* test 디렉터리에서 작업
* 테스트 코드에 사용할 패턴은 given-when-then 패턴
  1. given: 테스트 실행을 준비하는 단계
  2. when: 테스트를 진행하는 단계
  3. then: 테스트 결과를 검증하는 단계

### 4.2 스프링 부트 3와 테스트

* 스프링 부트는 애플리케이션을 테스트하기 위한 도구와 애너테이션을 제공
* spring-boot-starter-test 스타터에 테스트를 위한 도구
  1. JUnit: 자바 프로그래밍 언어용 단위 테스트 프레임워크
  2. Spring Test & Spring Boot Test: 스프링 부트 애플리케이션을 위한 통합 테스트 지원
  3. AssertJ: 검증문인 어셜션을 작성하는 데 사용되는 라이브러리
  4. Hamcrest: 표현식을 보다 이해하기 쉽게 만드는 데 사용되는 Matcher 라이브러리
  5. Mockito: 테스트에 사용할 가짜 객체인 목 객체를 쉽게 만들고, 관리하고, 검증할 수 있게 지원하는 테스트 프레임워크
  6. JSONassert: JSON 용 어셜선 라이브러리
  7. JsonPath: JSON 데이터에서 특정 데이터를 선택하고 검색하기 위한 라이브러리

#### 4.2.1 JUnit 이란?

* 자바 언어를 위한 단위 테스트 프레임워크
* 단위 테스트란, 작성한 코드가 의도대로 작동하는지 작은 단위로 검증하는 것을 의미
* Junit 의 특징
  * 테스트 방식을 구분할 수 있는 애너테이션 제공
  * @Test 애너테이션으로 메서드를 호출할 때마다 새 인스턴스를 생성, 독립 테스트 가능
  * 예상 결과를 검증하는 어설션 메서드 제공
  * 사용 방법이 단순, 테스트 코드 작성 시간이 적음
  * 자동 실행, 자체 결과를 확인하고 즉각적인 피드백을 제공

1. JUnitTest 파일 생성 (src -> test -> java 폴더)
2. [Run 'JUnitTest'] 클릭해서 테스트 실행
3. 실패를 위한 테스트 케이스 추가
4. JUnitCycleTest.java 파일 생성
   > @BeforeAll, @BeforeEach, @Test, @AfterEach, @AfterAll
5. 테스트 코드 실행하여 4의 결과 확인

> AssertJ 로 검증문 가독성 높이기
  > JUnit 과 함께 사용해 검증문의 가독성을 높여주는 라이브러리

|메서드 이름|설명|
|---|---|
|isEqualTO(A)|A 값과 같은지 검증|
|isNotEqualTo(A)|A 값과 다른지 검증|
|contains(A)|A 값을 포함하는지 검증|
|doesNotContain(A)|A 값을 포함하지 않는지 검증|
|startsWith(A)|접두사가 A인지 검증|
|endsWith(A)|접미사가 A인지 검증|
|isEmpty()|비어있는 값인지 검증|
|isNotEmpty()|비어있지 않은 값인지 검증|
|isPositive()|양수인지 검증|
|isNegative()|음수인지 검증|
|isGreaterThan(1)|1보다 큰 값인지 검증|
|isLessThan(1)|1보다 작은 값인지 검증|

### 4.3 제대로 테스트 코드 작성해보기

1. TestController.java 클래스 이름 위에 Alt + Enter -> [Create Test]
2. 테스트 코드 작성
3. 로직을 테스트하는 코드 작성
4. 테스트 동작 확인